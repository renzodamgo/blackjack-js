const miModulo = (() => { "use strict"; let e = [], f = ["C", "D", "H", "S"], g = ["J", "Q", "K", "A"], h = [], a = document.querySelector("#btnPedir"), b = document.querySelector("#btnDetener"), c = document.querySelector("#btnNuevo"), i = document.querySelectorAll("small"), j = document.querySelectorAll(".divCartas"), d = (d = 2) => { e = k(), h = new Array(d).fill(0); for (let c = 0; c < h.length; c++)i[c].innerText = 0, j[c].innerHTML = ""; a.disabled = !1, b.disabled = !1; }, k = () => { e = []; for (let a = 2; a <= 10; a++)for (let b of f) e.push(a + b); for (let c of f) for (let d of g) e.push(d + c); return l(e); }, l = a => a.map(a => ({ value: a, sort: Math.random() })).sort((a, b) => a.sort - b.sort).map(({ value: a }) => a), m = a => { if (0 == a.length) throw "No se pueden elegir mas cartas"; return a.pop(); }, n = b => { let a = b.substring(0, b.length - 1), c = isNaN(a) ? "A" === a ? 11 : 10 : 1 * a; return console.log({ puntos: c }), c; }, o = () => { let [a, b] = h; setTimeout(() => { b === a ? alert("Nadie gana :(") : a > 21 ? alert("Computadora gana") : b > 21 ? alert("Jugador Gana") : alert("Computadora Gana"); }, 100); }, p = (a, b) => (h[a] = h[a] + n(b), console.log({ puntosJugadores: h }), i[a].innerText = h[a], h[a]), q = (b, c) => { let a = document.createElement("img"); a.src = `assets/cartas/${c}.png`, j[b].append(a); }, r = a => { a = a > 21 ? 0 : a; let b = 0; do { let c = m(e); b = p(h.length - 1, c), q(h.length - 1, c); } while (b <= a); o(); }; return a.addEventListener("click", () => { let d = m(e), c = p(0, d); q(0, d), console.log({ puntosJugador: c }), c > 21 ? (console.warn("perdiste"), a.disabled = !0, b.disabled = !0, r(c)) : 21 === c && (console.warn(" 21 genial"), a.disabled = !0, b.disabled = !0, r(c)); }), b.addEventListener("click", () => { a.disabled = !0, b.disabled = !0, r(h[0]); }), c.addEventListener("click", () => { d(); }), { nuevoJuego: d }; })();